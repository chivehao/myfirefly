import{i as S,a as H,s as I}from"./lifecycle.nMMwQj6A.js";import{p as k,o as d}from"./props.BM2qiXnv.js";import{j as x,a as B,b as c,p as M,c as j,s as u,g as a,m as h,h as T,u as V,f as G,i as W,r as q,t as A,e as D,o as w}from"./utils.BAZLatEC.js";import{i as y}from"./if.Dx3s8j_x.js";import{s as g}from"./navBarConfig.BsiT2QM_.js";/* empty css                        */import"./branches.DxfoYl0w.js";var F=w('<svg class="w-5 h-5 icon-transition svelte-10yr7y9" fill="currentColor" viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z" class="svelte-10yr7y9"></path></svg>'),J=w('<svg class="w-5 h-5 icon-transition svelte-10yr7y9" fill="currentColor" viewBox="0 0 24 24"><path d="M3 3h7v7H3V3zm0 11h7v7H3v-7zm11-11h7v7h-7V3zm0 11h7v7h-7v-7z" class="svelte-10yr7y9"></path></svg>'),K=G('<button aria-label="切换文章列表布局"><!></button>');function Y(L,f){j(f,!1);let s=k(f,"currentLayout",12,"list"),r=h(!1),i=h(!1),n=h(!1);function v(){u(i,window.innerWidth<1200),a(i)&&s("list")}d(()=>{u(r,!0),v();const t=localStorage.getItem("postListLayout");return t&&(t==="list"||t==="grid")&&s(t),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}});function _(){if(!a(r)||a(i)||a(n))return;u(n,!0),s(s()==="list"?"grid":"list"),localStorage.setItem("postListLayout",s());const t=new CustomEvent("layoutChange",{detail:{layout:s()}});window.dispatchEvent(t),setTimeout(()=>{u(n,!1)},500)}d(()=>{const t=e=>{s(e.detail.layout)};return window.addEventListener("layoutChange",t),()=>{window.removeEventListener("layoutChange",t)}}),d(()=>(setTimeout(()=>{const e=document.getElementById("post-list-container");if(e){const l=e.classList.contains("grid-mode");s(l?"grid":"list")}},100),()=>{})),S();var p=x(),b=B(p);{var z=t=>{var e=K(),l=W(e);{var E=o=>{var m=F();c(o,m)},C=o=>{var m=J();c(o,m)};y(l,o=>{s()==="list"?o(E):o(C,!1)})}q(e),A(()=>{H(e,1,`btn-plain scale-animation rounded-lg h-11 w-11 active:scale-90 flex items-center justify-center theme-switch-btn ${a(n)?"switching":""}`,"svelte-10yr7y9"),e.disabled=a(n),I(e,"title",s()==="list"?"切换到网格模式":"切换到列表模式")}),D("click",e,_),c(t,e)};y(b,t=>{a(r),T(g),a(i),V(()=>a(r)&&g.postListLayout.allowSwitch&&!a(i))&&t(z)})}c(L,p),M()}export{Y as default};
