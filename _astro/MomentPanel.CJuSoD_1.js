import{p as T,o as V,i as W,s as C}from"./props.DVE12kWb.js";import{f as y,b,p as X,c as Z,s as tt,d as v,i as a,m as et,r,C as M,g as t,u as l,t as N,h as $}from"./utils.CTJMpSsy.js";import{s as p}from"./render.BFStknRv.js";import{e as A,i as F}from"./each.c_TcGU35.js";import{I as g}from"./zh_TW.Bl-Ke2VL.js";import{i as K}from"./translation.DeqmD2f4.js";import{I as at}from"./Icon.CiaYrSKK.js";import"./navBarConfig.DSyShFmi.js";import"./if.CBojm_KW.js";import"./branches.BLdOHZH7.js";var rt=y(`<a target="_blank" class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[20%] md:w-[10%] transition text-sm text-right text-50"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="hidden md:block md:w-[10%] text-left text-sm transition
                            whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),it=y(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),st=y('<div class="card-base px-8 py-6"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-[var(--primary)] flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-neutral-900 dark:text-neutral-100">朋友圈</h1></div> 朋友们的最近更新</div> <!></div>');function ht(L,D){Z(D,!1);let O=T(D,"sortedPosts",24,()=>[]);new URLSearchParams(window.location.search).get("uncategorized");let k=et([]);function R(d){const i=(d.getMonth()+1).toString().padStart(2,"0"),n=d.getDate().toString().padStart(2,"0");return`${i}-${n}`}V(async()=>{let d=O();d=d.slice().sort((e,o)=>Date.parse(o.isoDate)-Date.parse(e.isoDate));const i=d.reduce((e,o)=>{const c=new Date(Date.parse(o.isoDate)).getFullYear();return e[c]||(e[c]=[]),e[c].push(o),e},{}),n=Object.keys(i).map(e=>({year:Number.parseInt(e,10),moments:i[Number.parseInt(e,10)]}));n.sort((e,o)=>o.year-e.year),tt(k,n)}),W();var m=st(),x=a(m),I=a(x),P=a(I),U=a(P);at(U,{icon:"material-symbols:group",class:"text-[1.5rem]"}),r(P),M(2),r(I),M(),r(x);var Y=v(x,2);A(Y,1,()=>t(k),F,(d,i)=>{var n=it(),e=a(n),o=a(e),c=a(o,!0);r(o);var S=v(o,4),q=a(S);r(S),r(e);var B=v(e,2);A(B,1,()=>(t(i),l(()=>t(i).moments)),F,(f,s)=>{var u=rt(),j=a(u),h=a(j),E=a(h,!0);r(h);var w=v(h,4),G=a(w);r(w);var _=v(w,2),H=a(_,!0);r(_);var z=v(_,2),J=a(z,!0);r(z),r(j),r(u),N(Q=>{C(u,"href",(t(s),l(()=>t(s).link))),C(u,"aria-label",(t(s),l(()=>t(s).isoDate))),p(E,Q),p(G,`[${t(s),l(()=>t(s).authorName)??""}]`),p(H,(t(s),l(()=>t(s).title))),p(J,(t(s),l(()=>t(s).description)))},[()=>(t(s),l(()=>R(new Date(Date.parse(t(s).isoDate)))))]),b(f,u)}),r(n),N(f=>{p(c,(t(i),l(()=>t(i).year))),p(q,`${t(i),l(()=>t(i).moments.length)??""} ${f??""}`)},[()=>($(K),t(i),$(g),l(()=>K(t(i).moments.length===1?g.postCount:g.postsCount)))]),b(d,n)}),r(m),b(L,m),X()}export{ht as default};
